////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//  Copyright (C) 2008-2014 Quantron Systems LLC.
//  All Rights Reserved.
//
//  This file is part of the b12 project.
//  For conditions of distribution and use,
//  please contact sales@quantron-systems.com
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// @see https://github.com/flatiron/winston/

var winston = require('winston');

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
var transports = [
	new (winston.transports.Console)({
		json: false,
		timestamp: true,
		handleExceptions: false,
		colorize: true,
        level: 'silly'
	}),
    new (winston.transports.File)({
    	filename: 'all-logs.log',
    	json: false,
    	timestamp: true,
    	handleExceptions: false,
    	maxsize: 25000000,
        maxFiles: 2,
        level: 'silly'
    })
];

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
var logger = new (winston.Logger)({
    transports: transports,
    //exceptionHandlers: [
    //    new (winston.transports.Console)({ json: false, timestamp: true }),
    //    new winston.transports.File({ filename: __dirname + '/exceptions.log', json: false })
    //],
    exitOnError: true
});

module.exports = logger;

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
